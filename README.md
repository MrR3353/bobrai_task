# Документация по командам Telegram-бота

## Описание

Этот Telegram-бот создан для компании BobrAi и позволяет получать информацию о текущей погоде в указанном городе. Для работы с ботом используйте команды, описанные ниже.


## Стек:
- Aiogram
- FastAPI
- PostgreSQL


## Запуск:
1. Создайте базу данных в postgresql
2. Создайте .env файл по примеру:
```
TG_TOKEN=<токен телеграмм бота>
OWM_API_KEY=<api key для open weather map>
DB_USER=<имя пользователя postgresql>
DB_PASSWORD=<пароль пользователя postgresql>
DB_HOST=localhost
DB_PORT=5432
DB_NAME=<имя базы данных>
```  
3. Запуск REST API:
```shell
uvicorn main:app --reload
```
4. Запуск бота:
```shell
python bot.py
```

## Пример использования:

1. Отправьте команду `/start`, чтобы узнать, как использовать бота.
2. Введите команду `/weather <город>` для получения информации о погоде.
 Пример: `/weather Москва`.

Бот автоматически логирует все запросы пользователей для дальнейшего анализа.

---

## Команды

### `/start`
- **Описание**: Приветственная команда, которая объясняет, как использовать бота.
- **Ответ**: Привет! Я бот, созданный для компании BobrAi. Используйте команду /weather, чтобы узнать погоду в любом городе.

### `/weather <город>`
- **Описание**: Получение информации о текущей погоде в указанном городе.
- **Параметры**:
- `<город>` (обязательный): Название города.
- **Ответ**: Текущая погода в указанном городе. Пример:

Погода в <город>:  
Температура: 20°C  
Ощущается как: 18°C  
Описание: Ясно  
Влажность: 50%  
Скорость ветра: 3 м/с  

#### Возможные ошибки:
- Если город не указан:  
Пожалуйста, укажите город. Например, /weather Москва.
- Если город не найден:  
Такого города не существует.

#### Ошибки
- **Системная ошибка**: Если произошла ошибка при запросе данных о погоде или сбой в работе бота:  
Произошла ошибка. Попробуйте еще раз позже.